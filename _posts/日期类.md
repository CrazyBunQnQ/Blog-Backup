---
title: 时间操作
date: 2017-03-16 22:22:22
categories: Java基础
tags: 
- Object
- 超类
- 包装类
---

在编程中，经常需要对时间进行操作，这篇文章就介绍下常用的时间操作及其相关的类。

<!-- more -->

## Date ##
java 中的时间是通过 Date 表示，是表示距离 1970 01 01 00:00:00 的毫秒数，java.util.Date 类封装了日期及时间信息。
>Date 类中的大多数进行时间计算的方法都已经被 Calendar 取代。

Date 的三个常用方法

	Date date = new Date();

getTime() 和 setTime()

	Date date = new Date();//创建对象并获取当前时间
	//获取自 1970 01 01 00:00:00 到 date 时间(这里为当前时间)的毫秒数
	long time = date.getTime();
	//设置明天此时此刻的日期和时间。
	time += 24*60*60*1000;
	date.setTime(time);//设置时间
	

## SimplaDateFormat ##
java.text.SimpleDateFormat 是一个用来格式化话解析日期的类，允许我们按照一个指定的日期格式，在 String 与 Date 类型之间互换：

	//将 Date 转换为 String 类型
	String format(Date date);

	//将 String 转换为 Date 类型
	Date parse(String str);

日期模式匹配字符：

||||
|:--:|:--:|:--:|
|y|年|yyyy → 2017 或 yy → 17|
|M|月|MM → 03 或 M → 3|
|d|日|dd → 16|
|m|分|mm → 37|
|s|秒|ss → 59|
|a|AM 或 PM||
|H|时(24)|HH:mm:ss → 12:24:39|
|h|时(12)|hh:mm:ss → 9:47:49|

将 Date 转换为 String 类型演示：

	Date now = new Date();//获取当前时间
	System.out.println(now);
	//将 Date 类型的数据按照指定格式转换为 String 类型的数据
	SimpleDateFormat sdf = new SimpleDateFormat("yyyy-MM-dd HH:mm:ss");
	System.out.println(sdf.format(now));
	SimpleDateFormat sdf = new SimpleDateFormat("yyyy/MM/dd HH.mm.ss");
	System.out.println(sdf.format(now));
	SimpleDateFormat sdf = new SimpleDateFormat("yy-MM/dd hh:mm.ss");
	System.out.println(sdf.format(now));

将 String 转换为 Date 类型演示：

	String time = "2002-02-22 22:22:22";
	SimpleDateFormat sdf = new SimpleDateFormat("yyyy-MM-dd HH:mm:ss");//格式需要与待转换的 String 格式相同
	Date date;
	try {
		date = sdf.parse(str);//有可能抛出异常，所以需要使用 try/catch 来捕有可能发生的异常
	} catch (Exception e) {
		e.printStackTrace()
	}
	System.out.println(date);
	//这里为 1970 01 01 00:00:00 到 2002-02-22 22:22:22 的毫秒数
	System.out.println(date.getTime());


## Calender ##

java.util.Calendar 封装了日历信息。主要作用在于其方法可以对时间进行计算。

Calender 是抽象类，规定了操作时间的相关方法。
常用的实现类：GregorianCalendar 即阴历理发。

Calender 提供了一个静态方法 getInstance()，可以获取一个当前系统所在地区适用的 Calendar 实例。

	Calendar c = Calendar.getInstance();
	Date d = c.getTime();

设置日期及时间分量

	void set(int field, int value);
	c.set(Calender.YEAR, 2008);
	c.set(Calender.MONTH, Calender.AUGUST);//月从0开始，为了以防错误，建议用内部常量表示
	c.set(Calender.DAY_OF_MONTH, 8);
	c.set(Calender.HOUR_OF_DAY, 20);
	c.set(Calender.MINUTE, 8);
	c.set(Calender.SECOND, 8);
	Date d = c.getTime();
	System.out.println(d);

获取日期及时间分量

	int get(int field);
	int year = c.get(Calendar.YEAR);
	//Calender 中的月是从 0 开始，所以想要表示真实的月份需要加 1
	int month = c.get(Calendar.MONTH) + 1;
	int day = c.get(Calendar.DAY_OF_MONTH);
	//Calendar 星期中的第一天是周日，所以想表示中国的星期需要减 1
	int week = c.get(Calendar.DAY_OF_WEEK) - 1;
	int hour = c.get(Calendar.HOUR_OF_DAY);
	int minute = c.get(Calendar.MINUTE);
	int second = c.get(Calendar.SECOND);
	System.out.println(year + "-" + month + "-" + day + " " + hour + ":" + minute + ":" + second + " 星期" + week);

**重要的事要多强调！**
>Calender 中的月是从 0 开始，所以想要表示真实的月份需要加 1
>Calendar 星期中的第一天是周日，所以想表示中国的星期需要减 1